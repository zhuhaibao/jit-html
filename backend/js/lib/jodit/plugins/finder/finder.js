/*!
 * jodit-pro - PRO Version of Jodit Editor
 * Author: Chupurnov Valeriy <chupurnov@gmail.com>
 * Version: v4.2.22
 * Url: https://xdsoft.net/jodit/pro/
 * License(s): SEE LICENSE IN LICENSE.md
 */


!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(self,(function(){return(self.webpackChunkjodit_pro=self.webpackChunkjodit_pro||[]).push([[916],{77109:function(t){t.exports='<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"> <path d="M365.4,59.628c60.56,0,109.6,49.03,109.6,109.47c0,109.47-109.6,171.8-219.06,281.271 C146.47,340.898,37,278.568,37,169.099c0-60.44,49.04-109.47,109.47-109.47c54.73,0,82.1,27.37,109.47,82.1 C283.3,86.999,310.67,59.628,365.4,59.628z"/> </svg>'},21838:function(t){t.exports='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"> <path d="M28.7,16.3l-12-13c-0.4-0.4-1.1-0.4-1.5,0l-12,13C3,16.6,2.9,17,3.1,17.4C3.2,17.8,3.6,18,4,18h3v10c0,0.6,0.4,1,1,1h16 c0.6,0,1-0.4,1-1V18h3c0.4,0,0.8-0.2,0.9-0.6C29.1,17,29,16.6,28.7,16.3z"/> </svg>'},74516:function(t){t.exports='<svg viewBox="0 0 252 252" xmlns="http://www.w3.org/2000/svg"> <path d="M0 16C0 7.16344 7.16344 0 16 0H85.6364C86.5205 0 87.3797 0.29288 88.0796 0.832871L120.92 26.1671C121.62 26.7071 122.48 27 123.364 27H227C235.837 27 243 34.1634 243 43V132.335C243 134.779 240.234 136.198 238.25 134.772L233 131L226.5 127L220 124L212.5 122L202.5 120L189 120.5L179.5 122.5L170.5 125.5L161.5 130.5L157 133.5L153 137L146.5 144L141 152L137 160L134 168L132.5 178L132 183.5V189.5L133 197.5L135 205.5L137.5 211.5L139.524 214.996C141.068 217.663 139.144 221 136.062 221H16C7.16344 221 0 213.837 0 205V16Z"/> <circle cx="197" cy="185" r="56"/> <path d="M188.364 215.955V151.591H204.636V215.955H188.364ZM164.318 191.909V175.636H228.682V191.909H164.318Z" fill="white"/> </svg>'},57074:function(t,e,n){"use strict";n.d(e,{zc:function(){return o.z}});var o=n(28190);n(57001),n(80993)},12027:function(t,e,n){"use strict";n.d(e,{Y:function(){return _}});var o=n(31635),i=n(67259),r=n(53557),s=n(9596),a=n(57074),c=n(91288),l=n(35102),u=n(72923),h=n(24538),p=n(60485),d=(n(35647),n(43952)),f=n(52812),m=n(50203),v=n(479),g=n(69508),y=n(16706),w=n(45177),C=n(25788),b=n(91853),S=n(62933),I=n(25511),P=n(96849),_=function(t){function e(e){var n=t.call(this,(0,s.ConfigProto)(Object.assign(e||{},{resizable:!0,draggable:!0,toolbarButtons:(null==e?void 0:e.toolbarButtons)||c.T.defaultOptions.filebrowser.buttons,buttons:I.A.atom(["filebrowser.settings","fullsize","dialog.close"])}),c.T.defaultOptions.filebrowser))||this;return n.dataProvider=(0,h.S)(n,n.options),n.state=(0,l.observable)({onSelectCallBack:null,theme:"default",showSideBar:!0,showFavorites:!0,showSettings:!1,showPreview:!1,withFolders:!0,foldersPosition:"bottom",info:"",metaInfo:null,currentPath:"",currentSource:"",currentBaseUrl:"",tree:[],activeElements:[],favorites:[],progress:0,lastSelectedIndex:0,elements:[],messages:[],sources:[],view:"tiles",tileSize:"default",sortBy:"name-asc",filterWord:"",onlyImages:!1}),n.persistent=new g.L(n,n.state),n.loadingManager=new v.K(n,n.state),n.stateManager=new y.f(n.state),n.historyManager=new m.c(n,n.state),n.contextMenuManager=new d.I(n),n.header=new w.s(n,n.options,n.stateManager),n.panel=new b.D(n,n.stateManager),n.files=n.panel,n.tree=n.panel,P.q.make(n),!n.persistent.theme&&n.options.theme&&(n.persistent.theme=n.options.theme),n.panel.append(n.progressbar),n.toolbar.setMod("mode","header"),n.setSize(Math.min(n.options.width,screen.width),Math.min(n.options.height,screen.height)).setHeader(n.header),n.onResizeWindow(),n.initUploader(),n.onChangeTheme(),n.fullFillOptions(),n.dataProvider.onProgress((function(t){0===t&&(t=30),n.state.progress=t})),n.e.on("beforeClose",n.removeGlobalListeners),n.e.fire("afterInit"),I.A.prototype.afterInitHook.call(n),n}return(0,o.C6)(e,t),e.prototype.className=function(){return"FileBrowserPro"},e.prototype.lock=function(e){return void 0===e&&(e="any"),this.container.classList.add("jodit_disabled"),t.prototype.lock.call(this,e)},e.prototype.unlock=function(){return this.container.classList.remove("jodit_disabled"),t.prototype.unlock.call(this)},e.prototype.status=function(t,e){void 0===e&&(e=!(t instanceof Error)),(0,s.isAbort)(t)||(!i.IS_PROD&&(0,s.isString)(t),this.message.message((0,s.isString)(t)?t:t.message,e?"success":"error",this.options.howLongShowMsg))},Object.defineProperty(e.prototype,"progressbar",{get:function(){return new S.C(this,this.stateManager.state)},enumerable:!1,configurable:!0}),e.prototype.addDisclaimer=function(t){this.dialog.appendChild(t)},e.prototype.open=function(){return(0,o.sH)(this,arguments,Promise,(function(e,n){return void 0===e&&(e=this.o.defaultCallback),(0,o.YH)(this,(function(o){return this.state.onlyImages=Boolean(n),this.prepareOpening(e),t.prototype.open.call(this,this.panel.container),[2,this.e.fire("update.filebrowser")]}))}))},e.prototype.onResizeWindow=function(){(0,s.css)(this.dialog,{maxWidth:screen.width,minHeight:Math.min(this.options.height,screen.height),minWidth:Math.min(this.options.width,screen.width)})},e.prototype.onChangePath=function(){var t=this.state,e=t.currentSource;this.uploader.setPath(t.currentPath),this.uploader.setSource(e)},e.prototype.onChangeTheme=function(){this.setMod("theme",this.state.theme),this.header.setMod("theme",this.state.theme),this.panel.setMod("theme",this.state.theme),this.options.theme=this.state.theme},e.prototype.onToggleSettings=function(){this.state.showSettings=!this.state.showSettings},e.prototype.prepareOpening=function(t){var e=this;this.registerGlobalListeners(),t&&(this.state.onSelectCallBack=function(n){e.close(),t(n)}),this.persistent.syncWithState()},e.prototype.registerGlobalListeners=function(){this.e.on(this.ow,"keydown",this.onKeyPress)},e.prototype.onKeyPress=function(t){var e=this.od.activeElement;if(this.state.activeElements.length&&e&&l.Dom.isOrContains(this.panel.items.container,e)){var n=this.state.elements;switch(t.key){case i.KEY_ENTER:return this.onChooseItems();case i.KEY_DELETE:return this.onFileRemove();case i.KEY_RIGHT:case i.KEY_LEFT:case i.KEY_DOWN:case i.KEY_UP:var o=t.key===i.KEY_RIGHT||t.key===i.KEY_DOWN,r=this.state.lastSelectedIndex,s=void 0;if([i.KEY_RIGHT,i.KEY_LEFT].includes(t.key))s=o?n[r+1]?r+1:0:n[r-1]?r-1:n.length-1;else{var a=this.panel.countInRow;s=Math.round(((r+1)/a+(o?1:-1))*a-1)}return n[s]&&this.stateManager.addActive(n[s],t.shiftKey),!1}}},e.prototype.removeGlobalListeners=function(){this.e.off(this.ow,"keydown",this.onKeyPress)},e.prototype.onFileRemove=function(){var t=this;this.state.activeElements.length&&this.confirm("Are you sure?","Delete",(function(e){e&&t.__itemsRemove(t.state.activeElements)})).bindDestruct(this)},e.prototype.__itemsRemove=function(t){var e=this;if(!t.length)return Promise.resolve();var n=[];return t.forEach((function(t){var o;n.push("folder"===t.type?e.__folderRemove((0,f.y)(t.path),null!==(o=t.name)&&void 0!==o?o:"",t.sourceName):e.__removeFile(t.file||t.name||"",t.sourceName))})),this.state.activeElements.forEach((function(t){e.stateManager.isFavorite(t)&&e.stateManager.toggleFavorite(t)})),this.state.activeElements=[],Promise.allSettled(n).then((function(){return Promise.allSettled([e.loadingManager.loadItems(),e.loadingManager.loadFolders()])}))},e.prototype.__removeFile=function(t,e){var n=this;return this.dataProvider.fileRemove(this.state.currentPath,t,e).then((function(e){n.status(e||n.i18n('File "%s" was deleted',t),!0)})).catch(this.status)},e.prototype.__folderRemove=function(t,e,n){var o=this;return this.dataProvider.folderRemove(t,e,n).then((function(i){o.status(i||o.i18n('Folder "%s" was deleted',e),!0),o.state.currentPath===t&&(o.state.currentPath=(0,f.y)(t),o.state.currentSource=n)})).catch(this.status)},e.prototype.onFileEdit=function(){if(1===this.state.activeElements.length){var t=(0,o.zs)(this.state.activeElements,1)[0];p.B.call(this,t.fileURL,t.file||"",t.path,t.sourceName,void 0,this.status)}},e.prototype.onFolderRename=function(t){var e=this;this.prompt("Enter new name","Rename",(function(n){if(!(0,s.isValidName)(n)||n===t.name)return e.status(e.i18n("Enter new name")),!1;e.dataProvider.folderRename((0,f.y)(t.path),t.name,n,t.sourceName).then((function(o){e.state.activeElements=[],e.status(o,!0),e.state.currentPath=(0,f.y)(t.path)+"/"+n,e.state.currentSource=t.sourceName,e.historyManager.updateCurrent(),e.loadingManager.loadFolders()})).catch(e.status)}),this.i18n("type name"),t.name).bindDestruct(this)},e.prototype.onFolderRemove=function(t){var e=this;this.confirm("Are you sure?","Delete",(function(n){n&&e.__itemsRemove([{type:"folder",name:t.name,path:t.path,sourceName:t.sourceName}])})).bindDestruct(this)},e.prototype.onFolderCreate=function(t){var e=this;this.prompt("Enter Directory name","Create directory",(function(n){var o=t.path||"/";e.dataProvider.createFolder(n,t.path||"/",t.sourceName).then((function(){e.state.currentSource===t.sourceName&&e.state.currentPath===o?e.e.fire("update.filebrowser"):(e.state.currentSource=t.sourceName,e.state.currentPath=o),e.historyManager.updateCurrent()}),e.status)}),this.i18n("type name")).bindDestruct(this)},e.prototype.onFileRename=function(t){var e=this,n=t.file||t.name||"";1===this.state.activeElements.length&&n&&this.prompt("Enter new name","Rename",(function(t){if(!(0,s.isValidName)(t))return e.status(e.i18n("Enter new name")),!1;e.dataProvider.fileRename(e.state.currentPath,n,t,e.state.currentSource).then((function(t){e.state.activeElements=[],e.status(t,!0),e.loadingManager.loadItems()})).catch(e.status)}),this.i18n("type name"),n).bindDestruct(this)},e.prototype.onChooseItems=function(){var t=this.stateManager.state.activeElements;if(t.length){if("folder"===t[0].type)return this.state.currentPath=this.state.currentPath+"/"+t[0].name,this.state.currentSource=t[0].sourceName,void this.e.fire("afterOpenFolder.filebrowser");this.state.onSelectCallBack?this.stateManager.callSelectHandler():this.onOpenLightBox(t[0])}},e.prototype.onOpenLightBox=function(t){C.c.open(this,t,this.state.elements)},e.prototype.initUploader=function(){var t=this,e=this,n=(0,s.ConfigProto)(e.o.uploader||{},c.T.defaultOptions.uploader),o=function(){return t.loadingManager.loadItems()};e.uploader=e.getInstance("Uploader",n),e.uploader.bind(e.panel.container,o,e.status),e.e.on("bindUploader.filebrowser",(function(t){e.uploader.bind(t,o,e.status)}))},e.prototype.destruct=function(){this.removeGlobalListeners(),this.header.destruct(),this.panel.destruct(),t.prototype.destruct.call(this)},e.prototype.fullFillOptions=function(){var t=this;["getLocalFileByUrl","crop","resize","create","fileMove","folderMove","fileRename","folderRename","fileRemove","folderRemove","folder","items","permissions"].forEach((function(e){null!=t.options[e]&&(t.options[e]=(0,s.ConfigProto)(t.options[e],t.o.ajax))}))},(0,o.Cg)([r.autobind],e.prototype,"status",null),(0,o.Cg)([r.cache],e.prototype,"progressbar",null),(0,o.Cg)([(0,r.watch)(":resize",{context:window})],e.prototype,"onResizeWindow",null),(0,o.Cg)([(0,r.watch)(["state.currentPath","state.currentSource"])],e.prototype,"onChangePath",null),(0,o.Cg)([(0,r.watch)("state.theme")],e.prototype,"onChangeTheme",null),(0,o.Cg)([(0,r.watch)(":toggleSettings.filebrowser")],e.prototype,"onToggleSettings",null),(0,o.Cg)([r.autobind],e.prototype,"onKeyPress",null),(0,o.Cg)([r.autobind],e.prototype,"removeGlobalListeners",null),(0,o.Cg)([(0,r.watch)(":fileRemove.filebrowser")],e.prototype,"onFileRemove",null),(0,o.Cg)([(0,r.watch)(":edit.filebrowser")],e.prototype,"onFileEdit",null),(0,o.Cg)([(0,r.watch)(":folderRename.filebrowser")],e.prototype,"onFolderRename",null),(0,o.Cg)([(0,r.watch)(":folderRemove.filebrowser")],e.prototype,"onFolderRemove",null),(0,o.Cg)([(0,r.watch)(":folderCreate.filebrowser")],e.prototype,"onFolderCreate",null),(0,o.Cg)([(0,r.watch)(":fileRename.filebrowser")],e.prototype,"onFileRename",null),(0,o.Cg)([(0,r.watch)(":select.filebrowser")],e.prototype,"onChooseItems",null),(0,o.Cg)([(0,r.watch)(":openLightBox.filebrowser")],e.prototype,"onOpenLightBox",null),(0,o.Cg)([r.component,(0,r.derive)(a.zc)],e)}(u.lG);Object.defineProperty(I.A.modules,"FileBrowserPro",{value:_,writable:!1,enumerable:!0,configurable:!0})},37721:function(t,e,n){"use strict";var o=n(51431),i=n(91288);(0,o.JW)(n(31889));var r=i.T.prototype.controls.filebrowser;r.settings={icon:"settings",tooltip:"Settings",exec:function(t){var e;(null!==(e=t.parent)&&void 0!==e?e:t).e.fire("toggleSettings.filebrowser")}},r.home={icon:"home",tooltip:"Home",exec:function(t){t.e.fire("goHome.filebrowser")}},r.preview={icon:"eye",tooltip:"Preview",isDisabled:function(t){return 0===t.state.activeElements.length},exec:function(t){t.e.fire("togglePreview.filebrowser")}},r.next={icon:"angle-right",tooltip:"History next",isDisabled:function(t){return!t.historyManager.canNext()},exec:function(t){t.historyManager.next()}},r.previous={icon:"angle-left",tooltip:"History previous",isDisabled:function(t){return!t.historyManager.canPrevious()},exec:function(t){t.historyManager.previous()}},r["new-folder"]={icon:"new-folder",exec:function(t){t.e.fire("folderCreate.filebrowser",{path:t.state.currentPath,sourceName:t.state.currentSource})},tooltip:"New folder"},Object.assign(i.T.prototype.filebrowser,{buttons:["filebrowser.home","filebrowser.previous","filebrowser.next","|","filebrowser.upload","filebrowser.new-folder","filebrowser.remove","filebrowser.update","filebrowser.select","filebrowser.edit","|","filebrowser.preview","about"],sort:!1,pixelOffsetLoadNewChunk:300,width:800,height:400,previewOfficeURL:"https://view.officeapps.live.com/op/view.aspx?src="})},50267:function(t,e,n){"use strict";n.r(e),n.d(e,{finder:function(){return a}});var o=n(31635),i=n(65564),r=(n(37721),n(12027)),s=n(25511),a=function(t){function e(){var e=t.apply(this,(0,o.fX)([],(0,o.zs)(arguments),!1))||this;return e.hasStyle=!s.A.fatMode,e}return(0,o.C6)(e,t),e.prototype.afterInit=function(t){var e=this;t.e.on("getInstanceFileBrowser",(function(t){return e.__instance||(e.__instance=new r.Y(t)),e.__instance}))},e.prototype.beforeDestruct=function(t){var e;t.e.off("getInstanceFileBrowser"),null===(e=this.__instance)||void 0===e||e.destruct()},e.requires=["license"],e}(i.k);s.A.plugins.add("finder",a)},43952:function(t,e,n){"use strict";n.d(e,{I:function(){return a}});var o=n(31635),i=n(89099),r=n(53557),s=n(24538),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.C6)(e,t),e.prototype.className=function(){return"ContextMenuManager"},e.prototype.onFolderContext=function(t,e){return this.buildContextItemMenu(this.getFolderContextActions(t),e),!1},e.prototype.onItemContext=function(t,e,n){return this.buildContextItemMenu(this.getItemContextActions(t),n),!1},e.prototype.onSourceContext=function(t,e){return this.buildContextItemMenu(this.getSourceContextActions(t),e),!1},e.prototype.buildContextItemMenu=function(t,e){if(this.j.o.contextMenu){var n=(0,s.V)(this.j).setMod("theme",this.j.state.theme);n.show(e.clientX,e.clientY,t.filter((function(t){return t&&!1!==t.enabled}))),this.j.e.on(this.j,"afterClose",(function(){n.isOpened&&n.close()}))}},e.prototype.getItemContextActions=function(t){var e=this;if(this.j.stateManager.isActive(t)||this.j.stateManager.addActive(t,this.j.state.activeElements.length>1),"folder"===t.type)return this.getFolderContextActions({type:"directory",children:[],name:t.name||"",path:t.path,sourceName:t.sourceName});var n=this.j.options,o=this.j.dataProvider,i=1===this.j.state.activeElements.length;return[{icon:"pencil",title:"Edit",enabled:Boolean(t.isImage)&&n.editImage&&i&&(o.canI("ImageResize")||o.canI("ImageCrop")),exec:function(){e.j.e.fire("edit.filebrowser")}},{icon:"italic",title:"Rename",enabled:o.canI("FileRename")&&i,exec:function(){return e.j.e.fire("fileRename.filebrowser",t)}},{icon:"bin",title:"Delete",enabled:o.canI("FileRemove"),exec:function(){return e.j.e.fire("fileRemove.filebrowser",t)}},{icon:"eye",title:"Preview",enabled:Boolean(t.isImage||"file"===t.type)&&n.preview&&i,exec:function(){return e.j.e.fire("openLightBox.filebrowser",t)}},{icon:"upload",title:"Download",exec:function(){t.fileURL&&e.j.ow.open(t.fileURL)}}]},e.prototype.getFolderContextActions=function(t){var e=this,n=this.j.dataProvider;return[{icon:"pencil",title:"Rename",exec:function(){e.j.e.fire("folderRename.filebrowser",t)},enabled:n.canI("FolderRename")},{icon:"bin",title:"Delete",exec:function(){e.j.e.fire("folderRemove.filebrowser",t)},enabled:n.canI("FolderRemove")},{icon:"plus",title:"Add folder",exec:function(){e.j.e.fire("folderCreate.filebrowser",t)},enabled:n.canI("FolderCreate")}]},e.prototype.getSourceContextActions=function(t){var e=this;return[{icon:"plus",title:"Create folder",exec:function(){e.j.e.fire("folderCreate.filebrowser",t)}}]},(0,o.Cg)([(0,r.watch)(":contextmenuFolder.filebrowser")],e.prototype,"onFolderContext",null),(0,o.Cg)([(0,r.watch)(":contextmenuItem.filebrowser")],e.prototype,"onItemContext",null),(0,o.Cg)([(0,r.watch)(":contextmenuSource.filebrowser")],e.prototype,"onSourceContext",null),(0,o.Cg)([r.component],e)}(i.v)},52812:function(t,e,n){"use strict";n.d(e,{y:function(){return o}});var o=function(t){var e=t.split("/").filter((function(t){return t.length}));return e.pop(),e.join("/")||"/"}},50203:function(t,e,n){"use strict";n.d(e,{c:function(){return a}});var o=n(31635),i=n(89099),r=n(53557),s=n(20368),a=function(t){function e(e,n){var o=t.call(this,e)||this;return o.state=n,o.history=[],o.historyIndex=0,o}return(0,o.C6)(e,t),e.prototype.className=function(){return"HistoryManager"},e.prototype.canNext=function(){return this.history.length-1>this.historyIndex},e.prototype.canPrevious=function(){return this.historyIndex>0},e.prototype.push=function(t){var e=this.historyIndex,n=this.history[e];if(!n||n.currentSource!==t.currentSource||n.currentPath!==t.currentPath){var i=(0,o.fX)([],(0,o.zs)(this.history),!1);i.length-1!==e&&(i=i.slice(0,e+1)),i.push(t),n&&(e+=1),this.history=i,this.historyIndex=e}},e.prototype.next=function(){this.canNext()&&(this.historyIndex+=1,this.updateState())},e.prototype.previous=function(){this.canPrevious()&&(this.historyIndex-=1,this.updateState())},e.prototype.updateCurrent=function(){this.history[this.historyIndex]={currentSource:this.state.currentSource,currentPath:this.state.currentPath,tree:(0,s.y6)(this.state.tree),elements:(0,o.fX)([],(0,o.zs)(this.state.elements),!1)}},e.prototype.onHome=function(){this.state.currentPath="",this.state.currentSource="",this.j.e.fire("afterOpenFolder.filebrowser update.filebrowser")},e.prototype.onOpenFolder=function(){this.push({tree:[],elements:[],currentPath:this.state.currentPath,currentSource:this.state.currentSource}),this.j.e.fire("changeSelection")},e.prototype.updateState=function(){var t=this.history[this.historyIndex],e=t.tree,n=t.elements,i=t.currentSource,r=t.currentPath;this.state.activeElements=[],this.state.elements=(0,o.fX)([],(0,o.zs)(n),!1),this.state.tree=(0,o.fX)([],(0,o.zs)(e),!1),this.state.currentSource=i,this.state.currentPath=r,this.j.e.fire("changeSelection")},(0,o.Cg)([(0,r.watch)(["state.elements","state.tree"])],e.prototype,"updateCurrent",null),(0,o.Cg)([(0,r.watch)(":goHome.filebrowser")],e.prototype,"onHome",null),(0,o.Cg)([(0,r.watch)(":afterOpenFolder.filebrowser")],e.prototype,"onOpenFolder",null),(0,o.Cg)([r.component],e)}(i.v)},479:function(t,e,n){"use strict";n.d(e,{K:function(){return s}});var o=n(31635),i=n(79834),r=n(53557),s=function(t){function e(e,n){var o=t.call(this,e)||this;return o.state=n,o.__tick=0,o.offset=0,o.countInOneChunk=20,o.stopLoadingParts=!1,o.__isLoadingPart=!1,o.__callQueueCount=0,o}return(0,o.C6)(e,t),e.prototype.className=function(){return"LoadingManager"},e.prototype.onUpdateFileBrowser=function(){return(0,o.sH)(this,void 0,Promise,(function(){return(0,o.YH)(this,(function(t){switch(t.label){case 0:return this.state.activeElements=[],this.j.panel.setMod("loading",!0),[4,Promise.all([this.loadFolders(),this.loadItems()])];case 1:return t.sent(),this.j.panel.setMod("loading",!1),[2]}}))}))},e.prototype.loadFolders=function(){return(0,o.sH)(this,void 0,Promise,(function(){var t,e,n,i,r;return(0,o.YH)(this,(function(o){switch(o.label){case 0:if(!this.j.isOpened)return[2];e=(t=this.state).currentPath,n=t.currentSource,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.j.dataProvider.tree(e,n)];case 2:return i=o.sent(),this.j.stateManager.fillTreeForPath(i,e),this.state.sources=i,[3,4];case 3:return r=o.sent(),this.j.status(r),[3,4];case 4:return[2]}}))}))},e.prototype.loadItems=function(){return(0,o.sH)(this,void 0,Promise,(function(){var t,e,n,i;return(0,o.YH)(this,(function(o){switch(o.label){case 0:if(!this.j.isOpened)return[2];o.label=1;case 1:return o.trys.push([1,8,,9]),this.__tick+=1,t=this.__tick,this.offset=0,this.stopLoadingParts=!1,this.__callQueueCount=0,[4,a(this.state,this.j.dataProvider,this.offset,this.countInOneChunk)];case 2:return e=o.sent(),n=e.loadedTotal,this.state.elements=e.items,this.stopLoadingParts=this.countInOneChunk>n,[4,this.loadItemsChunk(t)];case 3:return o.sent(),[4,this.async.requestIdlePromise()];case 4:if(o.sent(),this.__tick!==t)return[2];o.label=5;case 5:return this.stopLoadingParts||this.state.elements.length>this.j.panel.countInColumn*this.j.panel.countInRow?[3,7]:[4,this.loadItemsChunk(t)];case 6:return o.sent(),this.__tick!==t?[2]:[3,5];case 7:return[3,9];case 8:return i=o.sent(),this.j.status(i),[3,9];case 9:return[2]}}))}))},e.prototype.__loadItemsChunk=function(t){return(0,o.sH)(this,void 0,Promise,(function(){var e,n,i,r;return(0,o.YH)(this,(function(o){switch(o.label){case 0:if(this.__isLoadingPart)return this.__callQueueCount+=1,[2];if(this.stopLoadingParts)return this.__callQueueCount=0,[2];this.__isLoadingPart=!0,this.j.panel.items.setMod("chunk-loading",!0),o.label=1;case 1:return o.trys.push([1,3,,4]),this.offset+=this.countInOneChunk,[4,a(this.state,this.j.dataProvider,this.offset,this.countInOneChunk)];case 2:return e=o.sent(),n=e.items,i=e.loadedTotal,this.__tick!==t?[2]:(this.stopLoadingParts=this.countInOneChunk>i,n.length&&(this.state.elements=this.state.elements.concat(n)),[3,4]);case 3:return r=o.sent(),this.j.status(r),[3,4];case 4:return this.j.panel.items.setMod("chunk-loading",!1),this.__isLoadingPart=!1,this.__callQueueCount>0?(this.__callQueueCount-=1,[2,this.__loadItemsChunk(t)]):[2]}}))}))},e.prototype.loadItemsChunk=function(t){return void 0===t&&(t=this.__tick),t!==this.__tick?Promise.resolve():this.__loadItemsChunk(t)},(0,o.Cg)([(0,r.watch)(":update.filebrowser")],e.prototype,"onUpdateFileBrowser",null),(0,o.Cg)([(0,r.watch)(["state.currentPath","state.currentSource"]),(0,r.debounce)((function(t){return{timeout:t.defaultTimeout,promisify:!0}}))],e.prototype,"loadFolders",null),(0,o.Cg)([(0,r.watch)(["state.currentPath","state.currentSource","state.sortBy","state.onlyImages","state.foldersPosition","state.filterWord"]),(0,r.debounce)((function(t){return{timeout:t.defaultTimeout,promisify:!0}}))],e.prototype,"loadItems",null),(0,o.Cg)([(0,r.debounce)((function(t){return{timeout:t.defaultTimeout,promisify:!0}}))],e.prototype,"loadItemsChunk",null),(0,o.Cg)([r.component],e)}(i.vG);function a(t,e,n,o){return e.itemsEx(t.currentPath,t.currentSource,{offset:n,limit:o,sortBy:t.sortBy,withFolders:t.withFolders,foldersPosition:t.foldersPosition,onlyImages:t.onlyImages,filterWord:t.filterWord})}},69508:function(t,e,n){"use strict";n.d(e,{L:function(){return a}});var o=n(31635),i=n(79834),r=n(53557),s=n(46366),a=function(t){function e(e,n){var o=t.call(this,e)||this;return o.state=n,o.sortBy="changed-desc",o.view="tiles",o.foldersPosition="top",o.tileSize="default",o.favorites=[],o.showSideBar=!0,o.showPreview=!1,o.showFavorites=!0,o}return(0,o.C6)(e,t),e.prototype.className=function(){return"PersistentStore"},e.prototype.onChangeThemeSetField=function(){this.theme=this.state.theme},e.prototype.onChangeView=function(){this.view=this.state.view},e.prototype.onChangeSortBy=function(){this.sortBy=this.state.sortBy},e.prototype.onChangeTileSize=function(){this.tileSize=this.state.tileSize},e.prototype.onChangeFavorites=function(){this.favorites=this.state.favorites},e.prototype.onChangeShowSideBar=function(){this.showSideBar=this.state.showSideBar},e.prototype.onChangeShowPreview=function(){this.showPreview=this.state.showPreview},e.prototype.onChangeShowFavorites=function(){this.showFavorites=this.state.showFavorites},e.prototype.onChangeFoldersPosition=function(){this.foldersPosition=this.state.foldersPosition},e.prototype.syncWithState=function(){this.state.tileSize=this.tileSize,this.state.favorites=this.favorites.map((function(t){return t instanceof s.u?t:s.u.create(t)})),this.state.view=this.view,this.state.theme=this.theme,this.state.showSideBar=this.showSideBar,this.state.showPreview=this.showPreview,this.state.showFavorites=this.showFavorites,this.state.sortBy=this.sortBy,this.state.foldersPosition=this.foldersPosition},(0,o.Cg)([r.persistent],e.prototype,"theme",void 0),(0,o.Cg)([r.persistent],e.prototype,"sortBy",void 0),(0,o.Cg)([r.persistent],e.prototype,"view",void 0),(0,o.Cg)([r.persistent],e.prototype,"foldersPosition",void 0),(0,o.Cg)([r.persistent],e.prototype,"tileSize",void 0),(0,o.Cg)([r.persistent],e.prototype,"favorites",void 0),(0,o.Cg)([r.persistent],e.prototype,"showSideBar",void 0),(0,o.Cg)([r.persistent],e.prototype,"showPreview",void 0),(0,o.Cg)([r.persistent],e.prototype,"showFavorites",void 0),(0,o.Cg)([(0,r.watch)("state.theme")],e.prototype,"onChangeThemeSetField",null),(0,o.Cg)([(0,r.watch)("state.view")],e.prototype,"onChangeView",null),(0,o.Cg)([(0,r.watch)("state.sortBy")],e.prototype,"onChangeSortBy",null),(0,o.Cg)([(0,r.watch)("state.tileSize")],e.prototype,"onChangeTileSize",null),(0,o.Cg)([(0,r.watch)("state.favorites")],e.prototype,"onChangeFavorites",null),(0,o.Cg)([(0,r.watch)("state.showSideBar")],e.prototype,"onChangeShowSideBar",null),(0,o.Cg)([(0,r.watch)("state.showPreview")],e.prototype,"onChangeShowPreview",null),(0,o.Cg)([(0,r.watch)("state.showFavorites")],e.prototype,"onChangeShowFavorites",null),(0,o.Cg)([(0,r.watch)("state.foldersPosition")],e.prototype,"onChangeFoldersPosition",null),(0,o.Cg)([r.component],e)}(i.vG)},16706:function(t,e,n){"use strict";n.d(e,{f:function(){return r}});var o=n(31635),i=n(53557),r=function(){function t(t){this.state=t}return t.prototype.getIndex=function(t,e){return void 0===e&&(e=this.state.elements),e.findIndex((function(e){return e.uniqueHashKey===t.uniqueHashKey}))},t.prototype.isActive=function(t){return Boolean(this.state.activeElements.find((function(e){return e.uniqueHashKey===t.uniqueHashKey})))},t.prototype.isFavorite=function(t){return Boolean(this.state.favorites.find((function(e){return e.uniqueHashKey===t.uniqueHashKey})))},t.prototype.addActive=function(t,e){var n;this.state.metaInfo=t,this.state.info=null!==(n=t.file)&&void 0!==n?n:"",this.state.lastSelectedIndex=this.getIndex(t),this.state.activeElements=e?(0,o.fX)((0,o.fX)([],(0,o.zs)(this.state.activeElements),!1),[t],!1):[t]},t.prototype.callSelectHandler=function(){var t,e=this.state.activeElements;null===(t=this.state.onSelectCallBack)||void 0===t||t.call(this,{baseurl:"",files:e.map((function(t){return t.fileURL})),isImages:e.map((function(t){return Boolean(t.isImage)}))})},t.prototype.setFilter=function(t){this.state.filterWord=t},t.prototype.toggleFavorite=function(t){var e=this.getIndex(t,this.state.favorites),n=(0,o.fX)([],(0,o.zs)(this.state.favorites),!1);-1===e?n.push(t):n.splice(e,1),this.state.favorites=n},t.prototype.fillTreeForPath=function(t,e){var n=this;this.state.tree.length&&e&&"/"!==e?(this.removeActive(this.state.tree),t.forEach((function(t){var o=s(n.state.tree,t.name);o||(o=c(t),n.state.tree.push(o)),o.isActive=!0;var i=function(t,e){return t.split("/").reduce((function(t,e){return t&&s(t.children,e)}),e)}(e,o);i&&(i.isActive=!0,i.children=a(t.folders).map((function(n){return l(n,e+"/"+n,t.name)})))})),this.state.tree=(0,o.fX)([],(0,o.zs)(this.state.tree),!1)):this.state.tree=t.map(c)},t.prototype.removeActive=function(t){var e=this;t.forEach((function(t){t.isActive=!1,e.removeActive(t.children)}))},Object.defineProperty(t.prototype,"isFavoriteItems",{get:function(){return this.state.favorites===this.state.elements},enumerable:!1,configurable:!0}),(0,o.Cg)([i.autobind],t.prototype,"getIndex",null),(0,o.Cg)([i.autobind],t.prototype,"isActive",null),(0,o.Cg)([i.autobind],t.prototype,"isFavorite",null),t}();function s(t,e){var n;return null!==(n=t.find((function(t){return t.name===e})))&&void 0!==n?n:null}function a(t){return t.filter((function(t){return"."!==t&&".."!==t}))}function c(t){return{type:"source",name:t.name,title:t.title,sourceName:t.name,path:"/",children:a(t.folders).map((function(e){return l(e,e,t.name)}))}}function l(t,e,n){return{type:"directory",name:t,path:e,sourceName:n,children:[]}}},31889:function(t,e,n){"use strict";n.r(e),n.d(e,{ru:function(){return o}});var o=n(41324)},35647:function(t,e,n){"use strict";var o=n(76185),i=n(77109),r=n(21838),s=n(74516);o.In.set("heart",String(i)),o.In.set("home",String(r)),o.In.set("new-folder",String(s))},11039:function(t,e,n){"use strict";n.d(e,{R:function(){return r}});var o=n(31635),i=n(12222),r=(n(28712),function(t){function e(e,n){var o=t.call(this,e)||this;return o.item=n,o.syncMod=!0,o.getElm("name").innerText=n.name,e.e.on(o.container,"click",(function(){return o.getMod("active")||o.setMod("loading",!0),e.e.fire("openFolder",n)})).on(o.container,"contextmenu",(function(t){return e.e.fire("contextmenuFolder.filebrowser",n,t)})),o}return(0,o.C6)(e,t),e.prototype.className=function(){return"UIBrowserFolder"},e.prototype.render=function(){return'<div>\n\t\t\t<div class="&__icon">\n\t\t\t\t<div class=\'&__loader\'></div>\n\t\t\t\t<div class="&__icon-wrapper">\n\t\t\t\t\t*folder*\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="&__name"></div>\n\t\t\t<div class="&__arrow">*angle-right*</div>\n\t\t</div>'},(0,o.Cg)([i.s],e)}(n(76185).D$))},45177:function(t,e,n){"use strict";n.d(e,{s:function(){return c}});var o=n(31635),i=n(53557),r=n(26986),s=n(76185),a=n(78072),c=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.options=n,i.stateManager=o,i.syncMod=!0,i.toolbar=(0,a.$K)(i.j),i.filter=new s.tS(i.j,{icon:"search",placeholder:"Filter",clearButton:!0,onChange:function(t){i.stateManager.setFilter(t)}}),i.append(i.toolbar).append(i.filter),i.filter.container.classList.add(i.getFullElName("filter")),i.toolbar.setMod("mode","header").build(i.__getButtons()),i}return(0,o.C6)(e,t),e.prototype.className=function(){return"UIBrowserHeader"},e.prototype.__getButtons=function(){var t,e=this;return(null!==(t=this.options.toolbarButtons)&&void 0!==t?t:[]).filter((function(t){if(!(0,r.K)(t))return!0;switch(t){case"filebrowser.edit":return e.j.dataProvider.canI("ImageResize")||e.j.dataProvider.canI("ImageCrop");case"filebrowser.new-folder":return e.j.dataProvider.canI("FolderCreate");case"filebrowser.upload":return e.j.dataProvider.canI("FileUpload");case"filebrowser.remove":return e.j.dataProvider.canI("FileRemove")}return!0}))},(0,o.Cg)([i.component],e)}(s.Ue)},72893:function(t,e,n){"use strict";n.d(e,{Q:function(){return l}});var o=n(31635),i=n(53557),r=n(9596),s=(n(28712),n(76185)),a=n(35102),c=n(46366),l=function(t){function e(e,n){var o=t.call(this,e)||this;return o.item=c.u.create(n),e.e.on(o.container,"click contextmenu dblclick",(function(t){return e.e.fire(t.type+"Item.filebrowser",o.item,(0,r.ctrlKey)(t)||t.shiftKey,t),!1})),o.update(),o}return(0,o.C6)(e,t),e.prototype.className=function(){return"UIBrowserItem"},e.prototype.render=function(){return"<div tabindex='-1'>\n\t\t\t<div class='&__image'></div>\n\t\t\t<div class='&__info'></div>\n\t\t\t<div class='&__heart'>*heart*</div>\n\t\t</div>"},e.prototype.onClickFavorite=function(){var t=this;return this.bubble((function(e){t.jodit.e.fire(e,"toggleFavoriteItem",t.item)})),!1},e.prototype.onAction=function(t){return this.jodit.e.fire(t.type+"Item.filebrowser",this.item,(0,r.ctrlKey)(t)||t.shiftKey,t),!1},e.prototype.update=function(){var e=this.getElm("image");(0,r.css)(e,"backgroundImage","url(".concat(encodeURI(this.item.imageURL),")"));var n=this.item,o=n.type,i=n.file,s=n.time,a=n.size;this.setMod("is-file",!1===this.item.isImage).setMod("type",null!=o?o:"file").setElementValue("name",i).setElementValue("time",s).setElementValue("filesize",a),(0,r.attr)(this.container,"title","folder"!==o?"".concat(i," ").concat(s," ").concat(a):i),t.prototype.update.call(this)},e.prototype.setElementValue=function(t,e){var n=this.getFullElName(t),o=this.getElm(t);if(!e)return o&&a.Dom.safeRemove(o),this;if(!o){var i=this.getElm("info");o=this.j.create.div(n),i.appendChild(o)}return o.innerText=e,this},(0,o.Cg)([(0,i.watch)("heart:click")],e.prototype,"onClickFavorite",null),(0,o.Cg)([(0,i.watch)(["container:click","container:contextmenu","container:dblclick"])],e.prototype,"onAction",null),(0,o.Cg)([i.component],e)}(s.D$)},25788:function(t,e,n){"use strict";n.d(e,{c:function(){return c}});var o=n(31635),i=n(67259),r=n(53557),s=n(9596),a=(n(28712),n(35102)),c=function(t){function e(e,n,o){var i=t.call(this,e)||this;i.current=n,i.elements=o,i.dialog=new a.Dialog;var r=i.dialog;return r.setMod("theme",e.state.theme).toolbar.setMod("mode","header"),r.open(i),i.elements=i.elements.filter((function(t){return t.isImage})),r.e.on(r,"afterClose",(function(){i.destruct()})),i.addGlobalListeners(),i.onChangeCurrent(),r.toolbar.build([{icon:"check",exec:function(){e.stateManager.addActive(i.current,!1),e.e.fire("select.filebrowser"),r.close()}},"dialog.close"]),i}var n;return(0,o.C6)(e,t),n=e,e.prototype.className=function(){return"UILightBox"},e.prototype.render=function(){return"<div>\n\t\t\t<div class='&__previous'>*angle-left*</div>\n\t\t\t<div class='&__preview'></div>\n\t\t\t<div class='&__loader'></div>\n\t\t\t<div class='&__next'>*angle-right*</div>\n\t\t</div>"},e.prototype.onChangeCurrent=function(){return(0,o.sH)(this,void 0,Promise,(function(){var t,e,n,i;return(0,o.YH)(this,(function(o){switch(o.label){case 0:return t=this.current,this.setMod("loading",!0),e=this.getElm("preview"),a.Dom.detach(e),(0,s.css)(e,{backgroundImage:null}),t.isImage?[4,(0,s.loadImage)(t.fileURL,this.j)]:[3,2];case 1:return n=o.sent(),this.dialog.setPosition(),(0,s.css)(e,{width:Math.min(this.jodit.ow.innerWidth,n.naturalWidth),height:Math.min(this.jodit.ow.innerHeight-100,n.naturalHeight),backgroundImage:"url(".concat(n.src,")")}),[3,4];case 2:return[4,this.makeIframe(t.fileURL)];case 3:i=o.sent(),e.appendChild(i),o.label=4;case 4:return this.dialog.setSize(),this.dialog.setPosition(),this.setMod("loading",!1),[2]}}))}))},e.prototype.makeIframe=function(t){var e=this.j.c.element("iframe");return e.classList.add(this.getFullElName("office-iframe")),e.src=/\.pdf/.test(t)?t:this.j.o.previewOfficeURL+encodeURIComponent(t),e},e.prototype.onPreviousClick=function(){var t=this.j.stateManager.getIndex(this.current,this.elements);t>0?t-=1:t=this.elements.length-1,this.current=this.elements[t]},e.prototype.onNextClick=function(){var t=this.j.stateManager.getIndex(this.current,this.elements);this.elements.length-1>t?t+=1:t=0,this.current=this.elements[t]},e.open=function(t,e,o){return new n(t,e,o)},e.prototype.addGlobalListeners=function(){this.j.e.on(this.j.od,"keydown",this.onKeyPress)},e.prototype.onKeyPress=function(t){if(t.key===i.KEY_LEFT||t.key===i.KEY_RIGHT||t.key===i.KEY_SPACE)return t.key===i.KEY_LEFT?this.onPreviousClick():this.onNextClick(),!1},e.prototype.removeGlobalListeners=function(){this.j.e.off(this.j.od,"keydown",this.onKeyPress)},e.prototype.destruct=function(){return this.removeGlobalListeners(),this.dialog.destruct(),t.prototype.destruct.call(this)},(0,o.Cg)([(0,r.watch)("current")],e.prototype,"onChangeCurrent",null),(0,o.Cg)([(0,r.watch)("previous:click")],e.prototype,"onPreviousClick",null),(0,o.Cg)([(0,r.watch)("next:click")],e.prototype,"onNextClick",null),(0,o.Cg)([r.autobind],e.prototype,"onKeyPress",null),n=(0,o.Cg)([r.component],e)}(a.UIElement)},91853:function(t,e,n){"use strict";n.d(e,{D:function(){return d}});var o=n(31635),i=n(53557),r=n(9596),s=n(76185),a=n(99485),c=n(96793),l=n(4858),u=n(73101),h=n(95833),p=n(36941),d=function(t){function e(e,n){var o=t.call(this,e)||this;return o.stateManager=n,o.syncMod=!0,o.sources=new u.T(o.j),o.sidebar=new l.H(o.jodit,[o.sources],o.stateManager.state),o.preview=new a.T(o.jodit,o.stateManager.state),o.statusbar=new h.E(o.j),o.items=new p.T(o.j,o.stateManager),o.settings=new c.K(o.jodit,o.stateManager.state),o.state=n.state,o.append(o.sidebar,"content"),o.append(o.items,"content"),o.append(o.settings,"content"),o.append(o.preview,"content"),o.append(o.statusbar,"footer"),o.onChangeElements(),o.onChangeSources(),o.onChangeView(),o.onChangeTileSize(),o.onChangeShowFavorites(),o.onChangeActiveElements(),o.onChangeFavorites(),o.onChangeShowSideBar(),o.onChangeShowSettings(),o.onChangeShowPreview(),o.onChangeTheme(),o}return(0,o.C6)(e,t),e.prototype.className=function(){return"UIBrowserPanel"},Object.defineProperty(e.prototype,"countInRow",{get:function(){if("list"===this.state.view)return 1;if(!this.items.elements.length)return 1;var t=this.items.elements[0].container,e=(0,r.css)(t,"marginLeft");return Math.floor(this.items.container.offsetWidth/(t.offsetWidth+((0,r.isNumber)(e)?e:0)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countInColumn",{get:function(){if(!this.items.elements.length)return 1;var t=this.items.elements[0].container,e=(0,r.css)(t,"marginTop");return Math.floor(this.items.container.offsetHeight/(t.offsetHeight+((0,r.isNumber)(e)?e:0)))},enumerable:!1,configurable:!0}),e.prototype.render=function(){return"<div>\n\t\t\t<div class='&__content'></div>\n\t\t\t<div class='&__footer'></div>\n\t\t</div>"},e.prototype.onChangeTheme=function(){this.setMod("theme",this.stateManager.state.theme)},e.prototype.onChangeElements=function(){this.items.build(this.stateManager.state.elements)},e.prototype.onChangeActiveElements=function(){var t=this;this.state.activeElements.length||(this.state.info="",this.state.metaInfo=null),this.items.elements.forEach((function(e){e.setMod("active",Boolean(t.stateManager.isActive(e.item)))})),this.j.e.fire("changeSelection")},e.prototype.onChangeFavorites=function(){var t=this;this.items.elements.forEach((function(e){e.setMod("favorite",Boolean(t.stateManager.isFavorite(e.item)))}))},e.prototype.onChangeSources=function(){this.sources.build(this.stateManager.state.tree)},e.prototype.onChangeLastSelectedIndex=function(){var t,e=null===(t=this.items.elements[this.stateManager.state.lastSelectedIndex])||void 0===t?void 0:t.container;e&&((0,r.scrollIntoViewIfNeeded)(e,this.items.container,this.j.od),e.focus())},e.prototype.onChangeInfo=function(){this.statusbar.value(this.state.info,"center")},e.prototype.onChangePathOrSource=function(){this.statusbar.value(this.state.currentPath?"".concat(this.state.currentPath," (").concat(this.state.currentSource,")"):this.i18n("Home"),"left")},e.prototype.onChangeShowSettings=function(){this.settings.setMod("hidden",!this.stateManager.state.showSettings)},e.prototype.onChangeShowPreview=function(){this.preview.setMod("hidden",!this.stateManager.state.showPreview)},e.prototype.onChangeShowSideBar=function(){this.sidebar.setMod("hidden",!this.stateManager.state.showSideBar)},e.prototype.onChangeView=function(){this.items.setMod("view",this.stateManager.state.view)},e.prototype.onChangeTileSize=function(){this.items.setMod("size",this.stateManager.state.tileSize)},e.prototype.onChangeShowFavorites=function(){this.sidebar.setMod("show-favorites",this.stateManager.state.showFavorites),this.items.setMod("show-favorites",this.stateManager.state.showFavorites)},e.prototype.onItemDblClick=function(){return this.j.e.fire("select.filebrowser"),!1},e.prototype.onItemClick=function(t,e){this.stateManager.addActive(t,e)},e.prototype.onTogglePreview=function(){return this.state.showPreview=!this.state.showPreview,!1},e.prototype.onToggleFavoriteItem=function(t){this.stateManager.toggleFavorite(t)},e.prototype.onFolderClick=function(t){this.stateManager.state.currentSource=t.sourceName,this.stateManager.state.currentPath=t.path||"/",this.j.e.fire("afterOpenFolder.filebrowser")},(0,o.Cg)([(0,i.watch)("state.theme")],e.prototype,"onChangeTheme",null),(0,o.Cg)([(0,i.watch)("state.elements")],e.prototype,"onChangeElements",null),(0,o.Cg)([(0,i.watch)("state.activeElements")],e.prototype,"onChangeActiveElements",null),(0,o.Cg)([(0,i.watch)(["state.favorites","state.elements"])],e.prototype,"onChangeFavorites",null),(0,o.Cg)([(0,i.watch)("state.sources")],e.prototype,"onChangeSources",null),(0,o.Cg)([(0,i.watch)("state.lastSelectedIndex")],e.prototype,"onChangeLastSelectedIndex",null),(0,o.Cg)([(0,i.watch)("state.info")],e.prototype,"onChangeInfo",null),(0,o.Cg)([(0,i.watch)(["state.currentPath","state.currentSource"])],e.prototype,"onChangePathOrSource",null),(0,o.Cg)([(0,i.watch)("state.showSettings")],e.prototype,"onChangeShowSettings",null),(0,o.Cg)([(0,i.watch)("state.showPreview")],e.prototype,"onChangeShowPreview",null),(0,o.Cg)([(0,i.watch)("state.showSideBar")],e.prototype,"onChangeShowSideBar",null),(0,o.Cg)([(0,i.watch)("state.view")],e.prototype,"onChangeView",null),(0,o.Cg)([(0,i.watch)("state.tileSize")],e.prototype,"onChangeTileSize",null),(0,o.Cg)([(0,i.watch)("state.showFavorites")],e.prototype,"onChangeShowFavorites",null),(0,o.Cg)([(0,i.watch)(":dblclickItem.filebrowser")],e.prototype,"onItemDblClick",null),(0,o.Cg)([(0,i.watch)(":clickItem.filebrowser")],e.prototype,"onItemClick",null),(0,o.Cg)([(0,i.watch)(":togglePreview.filebrowser")],e.prototype,"onTogglePreview",null),(0,o.Cg)([(0,i.watch)(":toggleFavoriteItem")],e.prototype,"onToggleFavoriteItem",null),(0,o.Cg)([(0,i.watch)(":openFolder")],e.prototype,"onFolderClick",null),(0,o.Cg)([i.component],e)}(s.Ue)},99485:function(t,e,n){"use strict";n.d(e,{T:function(){return u}});var o=n(31635),i=n(53557),r=n(23545),s=n(71122),a=(n(28712),n(1530)),c=n(72893),l=n(35590),u=function(t){function e(e,n){var o=t.call(this,e)||this;return o.state=n,o.lastLoadPromise=null,o.onChangeMetaInfo(),o}return(0,o.C6)(e,t),e.prototype.className=function(){return"UIPreview"},e.prototype.addResize=function(){l.Z.remove(this),l.Z.install(this,screen.width>450?"left":"top")},e.prototype.render=function(){return'<div>\n\t\t\t\t<div class="&__image"></div>\n\t\t\t\t<div class="&__info"></div>\n\t\t\t\t<div class="&__loader"></div>\n\t\t\t\t<div class="&__empty-message">~Select image~</div>\n\t\t\t</div>'},e.prototype.afterSetMod=function(e,n){"hidden"===e&&!1===n&&this.onChangeMetaInfo(),t.prototype.afterSetMod.call(this,e,n)},e.prototype.onChangeMetaInfo=function(){var t,e,n=this;if(!this.getMod("hidden")){var o=this.state.metaInfo;this.setMod("empty",!o);var i=this.getElm("info");r.J.detach(i);var a=this.getElm("image");(0,s.css)(a,{backgroundImage:null}),o&&(this.setMod("is-file",!1===o.isImage).setMod("type",null!==(t=o.type)&&void 0!==t?t:"file"),c.Q.prototype.setElementValue.call(this,"name",o.file),c.Q.prototype.setElementValue.call(this,"time",o.time),c.Q.prototype.setElementValue.call(this,"filesize",o.size),this.setMod("loading",!0),null===(e=this.lastLoadPromise)||void 0===e||e.rejectCallback(),this.lastLoadPromise=(0,s.loadImage)(o.isImage?o.fileURL:o.imageURL,this.j),this.lastLoadPromise.then((function(t){var e=n.getElm("image");t&&(0,s.css)(e,{backgroundImage:"url(".concat(t.src,")")})})).finally((function(){n.setMod("loading",!1)})).catch((function(){})))}},(0,o.Cg)([(0,i.hook)("ready"),(0,i.watch)(":resize",{context:window}),(0,i.debounce)()],e.prototype,"addResize",null),(0,o.Cg)([(0,i.watch)("state.metaInfo")],e.prototype,"onChangeMetaInfo",null),(0,o.Cg)([i.component],e)}(a.U)},62933:function(t,e,n){"use strict";n.d(e,{C:function(){return r}});var o=n(31635),i=n(53557),r=function(t){function e(e,n){var o=t.call(this,e)||this;return o.state=n,o.onProgress(),o}return(0,o.C6)(e,t),e.prototype.className=function(){return"UIProgress"},e.prototype.onProgress=function(){this.state.progress?this.show():this.hide(),this.progress(this.state.progress)},e.prototype.hide=function(){return this.setMod("hidden",!0),this},e.prototype.progress=function(t){var e=this;return this.container.style.width=t.toFixed(2)+"%",98>t||this.j.async.setTimeout((function(){e.hide()}),{label:"progress",timeout:300}),this},e.prototype.show=function(){return this.setMod("hidden",!1),this},(0,o.Cg)([(0,i.watch)("state.progress")],e.prototype,"onProgress",null),(0,o.Cg)([i.component],e)}(n(3370).z)},96793:function(t,e,n){"use strict";n.d(e,{K:function(){return s}});var o=n(31635),i=n(53557),r=(n(28712),n(76185)),s=function(t){function e(e,n){var o=t.call(this,e)||this;o.state=n;var i=o.getElm("close");return e.e.on(i,"click",(function(){o.state.showSettings=!1})),o}return(0,o.C6)(e,t),e.prototype.className=function(){return"UIBrowserSettings"},e.prototype.render=function(){return'<div>\n\t\t\t<div class="'.concat(this.getFullElName("close"),'">').concat(r.In.get("cancel"),'</div>\n\t\t\t<div class="').concat(this.getFullElName("title"),'">').concat(this.j.i18n("Settings"),'</div>\n\t\t\t<div class="').concat(this.getFullElName("options"),'"></div>\n\t\t</div>')},e.prototype.appendChildToContainer=function(t){this.getElm("options").appendChild(t)},e.prototype.afterSetMod=function(e,n){"hidden"===e&&!1===n&&this.generateSettings(),t.prototype.afterSetMod.call(this,e,n)},e.prototype.onChangeView=function(){var t=this.getElm("tile-size");t&&(t.style.display="tiles"===this.state.view?"block":"none")},e.prototype.generateSettings=function(){var t=this;this.clear();var e=this.j;this.append([new r.ss(e,{label:"Theme",name:"theme",value:this.state.theme,radio:!0,options:[{value:"default",text:"Light"},{value:"dark",text:"Dark"}],onChange:function(e){t.state.theme="default"===t.state.theme||"dark"===t.state.theme?e[0].value:"default"}}),new r.ss(e,{label:"Show favorites",name:"showFavorites",value:this.state.showFavorites,radio:!0,options:[{value:!0,text:"Show"},{value:!1,text:"Hide"}],onChange:function(e){t.state.showFavorites=e[0].value}}),new r.ss(e,{label:"View",name:"view",value:this.state.view,radio:!0,options:[{value:"tiles",text:"Tiles"},{value:"list",text:"List"},{value:"compact",text:"Compact"}],onChange:function(e){t.state.view=e[0].value}}),new r.ss(e,{label:"Folders position",name:"foldersPosition",value:this.state.foldersPosition,radio:!0,options:[{value:"top",text:"Top"},{value:"bottom",text:"Bottom"},{value:"default",text:"Default"}],onChange:function(e){t.state.foldersPosition=e[0].value}}),new r.$6(e,{label:"Sort by",name:"sort-by",value:this.state.sortBy,options:[{value:"changed-asc",text:e.i18n("Sort by changed")+"(⬆)"},{value:"changed-desc",text:e.i18n("Sort by changed")+"(⬇)"},{value:"name-asc",text:e.i18n("Sort by name")+"(⬆)"},{value:"name-desc",text:e.i18n("Sort by name")+"(⬇)"},{value:"size-asc",text:e.i18n("Sort by size")+"(⬆)"},{value:"size-desc",text:e.i18n("Sort by size")+"(⬇)"}],onChange:function(e){t.state.sortBy=e}}),new r.$6(e,{label:"Tile size",name:"tile-size",value:this.state.tileSize,options:[{value:"xsmall",text:"Extra small"},{value:"small",text:"Small"},{value:"default",text:"Default"},{value:"large",text:"Large"},{value:"xlarge",text:"Extra large"}],onChange:function(e){t.state.tileSize=e}})]),this.onChangeView()},(0,o.Cg)([(0,i.watch)("state.view")],e.prototype,"onChangeView",null),(0,o.Cg)([i.component],e)}(r.Ue)},4858:function(t,e,n){"use strict";n.d(e,{H:function(){return a}});var o=n(31635),i=n(53557),r=(n(28712),n(1530)),s=n(35590),a=function(t){function e(e,n,o){var i=t.call(this,e,n)||this;return i.state=o,i.onChangeFavorites(),i}return(0,o.C6)(e,t),e.prototype.className=function(){return"UISidebar"},e.prototype.render=function(){return"<div>\n\t\t\t<div class='&__hide-btn'>*angle-left*</div>\n\t\t\t<div class='&__favorites'>*heart* ~Favorites~</div>\n\t\t\t<div class='&__box'></div>\n\t\t</div>"},e.prototype.appendChildToContainer=function(t){this.getElm("box").appendChild(t)},e.prototype.addResize=function(){s.Z.remove(this),s.Z.install(this,screen.width>450?"right":"bottom")},e.prototype.onChangeFavorites=function(){this.setMod("has-favorites",Boolean(this.state.favorites.length))},e.prototype.onClickHideButton=function(){return this.state.showSideBar=!this.state.showSideBar,!1},e.prototype.onClickFavorites=function(){return this.state.elements=this.state.favorites,!1},(0,o.Cg)([(0,i.hook)("ready"),(0,i.watch)(":resize",{context:window}),(0,i.debounce)()],e.prototype,"addResize",null),(0,o.Cg)([(0,i.watch)("state.favorites")],e.prototype,"onChangeFavorites",null),(0,o.Cg)([(0,i.watch)("hide-btn:click")],e.prototype,"onClickHideButton",null),(0,o.Cg)([(0,i.watch)("favorites:click")],e.prototype,"onClickFavorites",null),(0,o.Cg)([i.component],e)}(r.U)},54969:function(t,e,n){"use strict";n.d(e,{q:function(){return a}});var o=n(31635),i=n(12222),r=(n(28712),n(65685)),s=n(15323),a=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.data=n,o.tree=new s.F(o.j,o.data.children),o.syncMod=!0,o.getElm("name").innerText=n.title||n.name,o.getElm("tree").appendChild(o.tree.container),e.e.on(o.container,"contextmenu",(function(t){return e.e.fire("contextmenuSource.filebrowser",n,t)})),o}return(0,o.C6)(e,t),e.prototype.className=function(){return"UIBrowserSource"},e.prototype.render=function(){return'<div>\n\t\t\t<div class="&__name"></div>\n\t\t\t<div class="&__tree"></div>\n\t\t</div>'},(0,o.Cg)([i.s],e)}(r.D)},73101:function(t,e,n){"use strict";n.d(e,{T:function(){return a}});var o=n(31635),i=n(53557),r=n(76185),s=n(54969),a=function(t){function e(){var e=t.apply(this,(0,o.fX)([],(0,o.zs)(arguments),!1))||this;return e.syncMod=!0,e}return(0,o.C6)(e,t),e.prototype.className=function(){return"UIBrowserSources"},e.prototype.build=function(t){var e=this;this.clear(),t.forEach((function(t){e.append(new s.q(e.jodit,t))}))},(0,o.Cg)([i.component],e)}(r.Ue)},95833:function(t,e,n){"use strict";n.d(e,{E:function(){return r}});var o=n(31635),i=n(53557),r=(n(28712),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.C6)(e,t),e.prototype.className=function(){return"UIBrowserStatusBar"},e.prototype.render=function(){return"<div>\n\t\t\t<div class='&__slot-left'></div>\n\t\t\t<div class='&__slot-center'></div>\n\t\t\t<div class='&__slot-right'></div>\n\t\t</div>"},e.prototype.value=function(t,e){return void 0===e&&(e="left"),this.getElm("slot-".concat(e)).innerText=t,this},(0,o.Cg)([i.component],e)}(n(76185).D$))},15323:function(t,e,n){"use strict";n.d(e,{F:function(){return a}});var o=n(31635),i=n(12222),r=n(1530),s=n(11039),a=function(t){function e(e,n){var o=t.call(this,e)||this;return o.syncMod=!0,o.build(n),o}var n;return(0,o.C6)(e,t),n=e,e.prototype.className=function(){return"UITree"},e.prototype.build=function(t){var e=this;this.clear(),t.forEach((function(t){var o=new s.R(e.jodit,t);e.append(o),t.isActive&&o.setMod("active",!0),t.children.length&&e.append(new n(e.jodit,t.children))}))},n=(0,o.Cg)([i.s],e)}(r.U)},36941:function(t,e,n){"use strict";n.d(e,{T:function(){return u}});var o=n(31635),i=n(53557),r=n(43977),s=n(1530),a=n(46366),c=n(72893),l=n(73556),u=function(t){function e(e,n){var o=t.call(this,e)||this;return o.stateManager=n,o.syncMod=!0,o.addItemsSelector(),o}var n;return(0,o.C6)(e,t),n=e,e.prototype.className=function(){return"UIVirtualScroll"},e.prototype.render=function(){return"<div>\n\t\t\t\t<div class=\"&__empty-message\">~There are no files~</div>\n\t\t\t\t<div class='&__loader'></div>\n\t\t\t\t<div class='&__drag-area'>~Drop image~</div>\n\t\t\t</div>"},e.prototype.reconcile=function(t){var e=this.elements.findIndex((function(e,n){return!t[n]||e.item.uniqueHashKey!==a.u.create(t[n]).uniqueHashKey}));if(e>-1){for(var n=e;this.elements.length>n;n+=1)this.elements[n].destruct();this.elements.length=e}return e},e.prototype.build=function(t){var e=this,n=this.reconcile(t);t.slice(n>-1?n:this.elements.length).forEach((function(t){var n=new c.Q(e.jodit,t);Object.keys(e.mods).forEach((function(t){n.setMod(t,e.mods[t])})),e.append(n)})),this.setMod("empty",!this.elements.length)},e.prototype.onScrollLoadChunk=function(){!this.stateManager.isFavoriteItems&&this.j.o.pixelOffsetLoadNewChunk>this.container.scrollHeight-(this.container.scrollTop+this.container.offsetHeight)&&this.j.loadingManager.loadItemsChunk()},e.prototype.onDragOver=function(t){t.preventDefault(),this.setMod("dragover",!0)},e.prototype.onDragLeave=function(t){t.preventDefault(),this.setMod("dragover",!1)},e.prototype.addItemsSelector=function(){l.J.install(this)},e.intersectRect=function(t,e){return!(e.left>t.left+t.width||t.left>e.left+e.width||e.top>t.top+t.height||t.top>e.top+e.height)},e.prototype.onSelectItems=function(t){var e=[];this.elements.forEach((function(o){var i=(0,r.G)(o.container);n.intersectRect(i,t)&&e.push(o.item)})),this.stateManager.state.activeElements=e},(0,o.Cg)([(0,i.watch)(":afterResize"),(0,i.watch)(":resize"),(0,i.watch)("container:scroll"),(0,i.throttle)()],e.prototype,"onScrollLoadChunk",null),(0,o.Cg)([(0,i.watch)("container:dragover")],e.prototype,"onDragOver",null),(0,o.Cg)([(0,i.watch)(["container:dragleave","container:drop"])],e.prototype,"onDragLeave",null),n=(0,o.Cg)([i.component],e)}(s.U)},35590:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var o=n(23545),i=n(4401),r=function(){function t(){}return t.remove=function(t){(0,i.A)(t.container,{width:null,height:null}),t.container.classList.remove("jodit-ui-resize"),o.J.safeRemove(t.container.querySelector(".jodit-ui-resize__handle"))},t.install=function(t,e){t.container.classList.add("jodit-ui-resize"),"static"===(0,i.A)(t.container,"position")&&(0,i.A)(t.container,"position","relative");var n=t.j.c.div("jodit-ui-resize__handle");n.classList.add("jodit-ui-resize__handle_type_"+e),t.container.appendChild(n),t.j.e.on(n,"mousedown touchstart",this.onStartResize.bind(this,t,e))},t.onStartResize=function(t,e,n){var o=t.j.async.throttle(this.onResize.bind(this,t,{x:n.clientX,y:n.clientY,w:t.container.offsetWidth,h:t.container.offsetHeight,direction:e}),t.j.defaultTimeout/10);t.j.lock(),t.j.e.on(t.j.ow,"mousemove touchmove",o).one(t.j.ow,"mouseup touchend",this.onEndResize.bind(this,t,o))},t.onResize=function(t,e,n){var o=["left","right"].includes(e.direction),r=t.container.parentElement;r&&(0,i.A)(t.container,o?"width":"height",100*(o?(e.w+(n.clientX-e.x)*("right"===e.direction?1:-1))/r.offsetWidth:(e.h+(n.clientY-e.y)*("top"===e.direction?1:-1))/r.offsetHeight)+"%")},t.onEndResize=function(t,e,n){t.j.e.off(t.j.ow,"mousemove touchmove",e),t.j.unlock()},t}()},73556:function(t,e,n){"use strict";n.d(e,{J:function(){return r}});var o=n(23545),i=n(4401),r=function(){function t(){}return t.remove=function(t){o.J.safeRemove(t.container.querySelector(".jodit-ui-select-items")),t.j.e.off(t.container,"mousedown.uiselectitems touchstart.uiselectitems")},t.install=function(t){var e=t.j.c.div("jodit-ui-select-items");t.j.e.on(t.container,"mousedown.uiselectitems touchstart.uiselectitems",this.onStartSelect.bind(this,t,e))},t.onStartSelect=function(t,e,n){if(n.target===t.container){(0,i.A)(e,{width:0,height:0}),t.container.appendChild(e);var o={x:n.clientX,y:n.clientY,w:t.container.offsetWidth,h:t.container.offsetHeight},r=t.j.async.throttle(this.onSelect.bind(this,t,e,o),t.j.defaultTimeout/10);t.j.lock(),t.j.e.on(t.j.ow,"mousemove touchmove",r).one(t.j.ow,"mouseup touchend",this.onEndSelect.bind(this,t,e,r)),t.onSelectItems({left:o.x,top:o.y,width:0,height:0})}},t.onSelect=function(t,e,n,o){var r={left:n.x>o.clientX?o.clientX:n.x,top:n.y>o.clientY?o.clientY:n.y,width:Math.abs(n.x-o.clientX),height:Math.abs(n.y-o.clientY)};(0,i.A)(e,r),t.onSelectItems(r)},t.onEndSelect=function(t,e,n,i){o.J.safeRemove(e),t.j.e.off(t.j.ow,"mousemove touchmove",n),t.j.unlock()},t}()}},function(t){return t(t.s=50267)}])}));