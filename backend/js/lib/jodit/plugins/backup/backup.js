/*!
 * jodit-pro - PRO Version of Jodit Editor
 * Author: Chupurnov Valeriy <chupurnov@gmail.com>
 * Version: v4.2.22
 * Url: https://xdsoft.net/jodit/pro/
 * License(s): SEE LICENSE IN LICENSE.md
 */


!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o=e();for(var n in o)("object"==typeof exports?exports:t)[n]=o[n]}}(self,(function(){return(self.webpackChunkjodit_pro=self.webpackChunkjodit_pro||[]).push([[736],{72681:function(t){t.exports='<?xml version="1.0" ?><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><title/><g id="Upload"><path d="M16,26h8V50a2,2,0,0,0,2,2H38a2,2,0,0,0,2-2V26h8a2,2,0,0,0,1.4946-3.3291l-16-18a2,2,0,0,0-2.9892,0l-16,18A2,2,0,0,0,16,26ZM32,9.0107,43.5464,22H38a2,2,0,0,0-2,2V48H28V24a2,2,0,0,0-2-2H20.4536Z"/><path d="M53,42a2,2,0,0,0-2,2V54a2.0023,2.0023,0,0,1-2,2H15a2.0023,2.0023,0,0,1-2-2V44a2,2,0,0,0-4,0V54a6.0066,6.0066,0,0,0,6,6H49a6.0066,6.0066,0,0,0,6-6V44A2,2,0,0,0,53,42Z"/></g></svg>'},67599:function(t,e,o){"use strict";o.r(e),o.d(e,{backup:function(){return l}});var n=o(31635),i=o(53557),r=o(65564),s=o(76185),c=(o(27663),o(3146)),a=o(21233),u=o(25511),l=function(t){function e(){var e,o=t.apply(this,(0,n.fX)([],(0,n.zs)(arguments),!1))||this;return o.hasStyle=!u.A.fatMode,o.buttons=[{name:"backup.restore",group:"history"}],o.__box=new a.Y(o.j),o.__dialog=null,o.__storage=null!==(e=o.jodit.o.backup.remoteStore)&&void 0!==e?e:new c.h(o.jodit),o.timeout=0,o}return(0,n.C6)(e,t),e.prototype.afterInit=function(t){var e=this;t.registerCommand("saveBackup",this.onSaveBackup).registerCommand("openBackupDialog",{exec:this.onOpenBackupDialog,hotkeys:t.o.backup.hotkeys});var o=function(){e.timeout=t.async.setTimeout((function(){e.onSaveBackup(),o()}),1e3*t.o.backup.interval)};o(),t.e.on(this.__box,"choose",this.onSelectItem).on(t.ow,"beforeunload.backup",(function(){e.onSaveBackup()}))},e.prototype.prepareDialog=function(){this.__dialog||(this.__dialog=this.j.dlg({minWidth:this.j.o.backup.dialogWidth,buttons:["fullsize","dialog.close"]}).setContent(this.__box.container)),this.__dialog.setHeader(this.jodit.i18n("Restore")),this.addButtonsToDialog()},e.prototype.onSaveBackup=function(){this.__storage.add({created:new Date,html:this.j.value})},e.prototype.onOpenBackupDialog=function(){return(0,n.sH)(this,void 0,Promise,(function(){var t,e;return(0,n.YH)(this,(function(o){switch(o.label){case 0:return this.prepareDialog(),(t=this.__dialog)?(t.open().setModal(!0),[4,this.__storage.items()]):[2];case 1:return e=o.sent(),this.__box.build((0,n.fX)([{created:new Date,html:this.j.value}],(0,n.zs)(e),!1)),t.calcAutoSize(),t.setPosition(),[2]}}))}))},e.prototype.onSelectItem=function(t){var e;null===(e=this.__dialog)||void 0===e||e.close(),this.j.value=t.html,this.j.s.focus()},e.prototype.addButtonsToDialog=function(){var t,e=this,o=this.jodit,n=(0,s.$n)(o,{name:"ok",tabIndex:0,variant:"primary",text:"Ok"}),i=(0,s.$n)(o,{variant:"secondary",tabIndex:0,text:"Cancel"}),r=(0,s.$n)(o,{name:"clear",tabIndex:0,variant:"secondary",text:"Remove all"});n.onAction((function(){e.__box.chooseSelected()})),i.onAction((function(){var t;null===(t=e.__dialog)||void 0===t||t.close()})),r.onAction((function(){o.confirm("Are you sure?",void 0,(function(t){var o;t&&(e.__storage.clear(),null===(o=e.__dialog)||void 0===o||o.close())}))}));var c=new s.Yh(o,[r,i,n]);c.container.style.margin="0",c.container.style.justifyContent="flex-end",c.container.style.width="100%",null===(t=this.__dialog)||void 0===t||t.setFooter(c)},e.prototype.beforeDestruct=function(){var t,e=this.j;e.async.clearTimeout(this.timeout),e.e.off(this.__box,"choose",this.onSelectItem).off(e.ow,"beforeunload.backup"),this.__box.destruct(),null===(t=this.__dialog)||void 0===t||t.destruct()},e.requires=["license"],(0,n.Cg)([i.autobind],e.prototype,"onSaveBackup",null),(0,n.Cg)([i.autobind],e.prototype,"onOpenBackupDialog",null),(0,n.Cg)([i.autobind],e.prototype,"onSelectItem",null),e}(r.k);u.A.plugins.add("backup",l)},27663:function(t,e,o){"use strict";var n=o(51431),i=o(80004),r=o(91288),s=o(72681),c=o.n(s),a=o(72795);r.T.prototype.backup={interval:30,limit:50,dialogWidth:700,hotkeys:["ctrl+shift+b","cmd+shift+b"]},r.T.prototype.controls.backup={store:{command:"saveBackup",text:"Save backup now"},restore:{tooltip:"Restore",list:["backup.store"],exec:function(t){t.execCommand("openBackupDialog")}}},i.I.set("restore",c()),(0,n.JW)(a)},72795:function(t,e,o){"use strict";o.r(e)},3146:function(t,e,o){"use strict";o.d(e,{h:function(){return i}});var n=o(31635),i=function(){function t(t){this.jodit=t,this.key="backup.default.storage"}return t.prototype.add=function(t){return(0,n.sH)(this,void 0,Promise,(function(){var e;return(0,n.YH)(this,(function(o){return t.html.trim().length?((e=this.jodit.storage.get(this.key)||[]).find((function(e){return e.html===t.html}))||(e.unshift(t),e.length>this.jodit.o.backup.limit&&(e.length=this.jodit.o.backup.limit),this.jodit.storage.set(this.key,e)),[2,!1]):[2,!1]}))}))},t.prototype.items=function(){return Promise.resolve(this.jodit.storage.get(this.key)||[])},t.prototype.clear=function(){return this.jodit.storage.delete(this.key),Promise.resolve(!1)},t}()},21233:function(t,e,o){"use strict";o.d(e,{Y:function(){return c}});var n=o(31635),i=o(53557),r=o(65685),s=o(50638),c=function(t){function e(e){var o=t.call(this,e)||this;return o.list=new s.n(o.j),o.preview=o.j.c.div(o.getFullElName("preview")),o.container.appendChild(o.list.container),o.container.appendChild(o.preview),o.list.container.classList.add(o.getFullElName("list")),e.e.on(o.list,"select",o.onSelectItem).on(o.list,"choose",o.onChooseItem),o}return(0,n.C6)(e,t),e.prototype.className=function(){return"UIBackupBox"},e.prototype.build=function(t){this.preview.innerHTML="",this.list.build(t)},e.prototype.destruct=function(){return this.j.e.off(this.list,"select",this.onSelectItem),this.list.destruct(),t.prototype.destruct.call(this)},e.prototype.onSelectItem=function(t){this.latestSelected=t,this.preview.innerHTML=t.html||'<div class="'.concat(this.getFullElName("empty"),'">').concat(this.j.i18n("Empty"),"</div>")},e.prototype.onChooseItem=function(t){this.j.e.fire(this,"choose",t)},e.prototype.chooseSelected=function(){this.onChooseItem(this.latestSelected)},(0,n.Cg)([i.autobind],e.prototype,"onSelectItem",null),(0,n.Cg)([i.autobind],e.prototype,"onChooseItem",null),(0,n.Cg)([i.component],e)}(r.D)},9817:function(t,e,o){"use strict";o.d(e,{k:function(){return r}});var n=o(31635),i=o(9596),r=function(t){function e(e,o){var n=t.call(this,e)||this;return n.data=o,n.container.innerHTML=n.formatDate(o.created),(0,i.attr)(n.container,"tabIndex",0),n}return(0,n.C6)(e,t),e.prototype.className=function(){return"UIBackupItem"},e.prototype.formatDate=function(t){var e=new Date,o=(0,i.isString)(t)?new Date(t):t,n=(e.getTime()-o.getTime())/1e3;return(0,i.isFunction)(this.j.o.backup.formatDate)?this.j.o.backup.formatDate(o):.2>n?this.j.i18n("Current"):60>n?this.j.i18n("Less minute"):n>3600?n>86400?"".concat(o.toDateString()," ").concat(o.toLocaleTimeString()):this.j.i18n("%s hours  ago",Math.floor(n/3600)):this.j.i18n("%s minutes ago",Math.floor(n/60))},e.prototype.focus=function(){this.container.focus()},e}(o(76185).D$)},50638:function(t,e,o){"use strict";o.d(e,{n:function(){return u}});var n=o(31635),i=o(67259),r=o(53557),s=o(9596),c=o(76185),a=o(9817),u=function(t){function e(e){var o=t.call(this,e)||this;return o.elements=[],o.currentSelection=-1,e.e.on(o.container,"keydown",(function(t){switch(t.key){case i.KEY_ENTER:t.preventDefault(),t.stopPropagation(),o.onChoose(o.currentSelection);break;case i.KEY_DOWN:o.selectNext();break;case i.KEY_UP:o.selectPrevious()}})),o}return(0,n.C6)(e,t),e.prototype.className=function(){return"UIBackupList"},e.prototype.createContainer=function(e){var o=t.prototype.createContainer.call(this,e);return(0,s.attr)(o,"tabIndex","-1"),o},e.prototype.build=function(t){var e=this;this.clear(),t.forEach((function(t,o){var n=new a.k(e.jodit,t);e.append(n),e.j.e.on(n.container,"focus",(function(){return e.onSelect(o)})).on(n.container,"click",(function(){return e.onSelect(o)})).on(n.container,"dblclick",(function(){return e.onChoose(o)}))})),this.currentSelection=0,this.onChangeCurrentSelection(void 0,-1,0)},e.prototype.onChangeCurrentSelection=function(t,e,o){var n,i,r;null===(n=this.elements[e])||void 0===n||n.setMod("active",!1),null===(i=this.elements[o])||void 0===i||i.setMod("active",!0),null===(r=this.elements[o])||void 0===r||r.focus(),this.j.e.fire(this,"select",this.elements[o].data)},e.prototype.onSelect=function(t){this.currentSelection=t},e.prototype.onChoose=function(t){this.j.e.fire(this,"choose",this.elements[null!=t?t:this.currentSelection].data)},e.prototype.selectNext=function(){this.currentSelection+1>this.elements.length-1?this.currentSelection=0:this.currentSelection+=1},e.prototype.selectPrevious=function(){0>this.currentSelection-1?this.currentSelection=this.elements.length-1:this.currentSelection-=1},(0,n.Cg)([(0,r.watch)("currentSelection")],e.prototype,"onChangeCurrentSelection",null),(0,n.Cg)([r.autobind],e.prototype,"onSelect",null),(0,n.Cg)([r.autobind],e.prototype,"onChoose",null),(0,n.Cg)([r.component],e)}(c.Ue)}},function(t){return t(t.s=67599)}])}));